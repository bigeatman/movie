<title>비밀번호 찾기</title>
<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<script src='https://code.jquery.com/jquery-3.6.0.min.js'></script>
<script src='https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js'></script>
<script src='https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js'></script>
<link rel='stylesheet' href='http://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css'/>
<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.0/font/bootstrap-icons.css'/>
<script>
    //DB에서 emial id값 가져오기
let email = 'xxx0000@naver.com'
let id = 'xxx0000'

function init(){
    $("#domainList").change(function(){
        if(!$(this).length){
            return this.val('')
        } else $('#domainTxt').val(($(this).val())); //value값 가져오기
    });
    
    $('#yesBtn').on('click', ()=>{
        $('#errId').empty()
        $('#errEmail').empty()
        $('#inputId').removeClass().attr('class', 'form-control')
        $('#inputEmail').removeClass().attr('class', 'form-control')
        $('#domainTxt').removeClass().attr('class', 'form-control')

        let inputEmail = $('#inputEmail').val() + '@' + $('#domainTxt').val() 
        
        if(id != ($('#inputId').val())) {
            $('#errId').append('존재하지 않는 아이디입니다.')
            $('#inputId').addClass('err')
        } else if(email != inputEmail){
            $('#errEmail').append('회원님의 정보와 일치하는 아이디가 없습니다.')
            $('#inputEmail').addClass('err')
            $('#domainTxt').addClass('err')
        } else { return 1} //location.href='06.html' }

        //이메일
        const mail = $('#inputEmail').val() + '@' + $('#domainTxt').val()
        console.log(mail)

    })

    $('#noBtn').on('click', ()=>{
    //    location.href='01.html'
    })
}

$(init)
</script>
<style>
body{
    display: flex;
    justify-content: center;
    align-items: center;
}

hr {
    background:gray;
    height:1px;
    border:0;
}

.btn {
    text-align: center;
}

#yesBtn, #noBtn, #inputBox{
    margin: auto;
}

.err{
    border: 0.1rem solid;
    border-color: red;
}
</style>
<body>
<div class='container'>
    <div class='row'>
        <div class='col'>
            <header class='p-2'>
                <h1 class='text-center'>비밀번호 찾기</h1>
                <hr class='col-7 color-black'>
            </header>
        </div>
    </div>
    </form>
        <div class='row d-flex'>
            <div class='col' id='inputBox'>
                <input id='inputId' name='inputId' type='id' class='form-control' placeholder='아이디를 입력하세요.'>
                <p id='errId' style='font-size: 8px; color: red; height: 8px;'></p>
                <div class='d-flex align-items-center'>
                    <input id='inputEmail' name='inputEmail' type='text' class='form-control' placeholder='이메일 ID' required/>
                        &nbsp;@&nbsp;
                    <input id='domainTxt' type='text' class='form-control'/>
                        &nbsp;
                    <select  id='domainList' class='form-control'>
                        <option value=''>직접 입력</option>
                        <option value='naver.com'>naver.com</option>
                        <option value='gmail.com'>gmail.com</option>
                        <option value='daum.net'>daum.net</option>
                        <option value='nate.com'>nate.com</option>
                        <option value='kakao.com'>kakao.com</option>
                    </select>
                </div>
                <p id='errEmail' style='font-size: 8px; color: red; height: 8px;'></p>
            </div>
        </div>
        <div class='row'>
            <div class='col d-flex'>
                <input id='noBtn' type="button" class='btn btn-block btn-secondary mr-3' value='취소'
                    style='max-width: 7rem;'>
                <input id='yesBtn' type="submit" class='btn btn-block btn-primary' value='확인'
                    style='max-width: 7rem;'>
            </div>
        </div>
    </form>
</div>
</body>